package com.hibernate.app01.utils;

import org.hibernate.SessionFactory;

public class HibernateUtils {
	
	 private static SessionFactory sessionFactory = null;

	    private public HibernateUtils() {
			// TODO Auto-generated constructor stub
		}

	    public synchronized static SessionFactory getSessionFactory() {
	        if (sessionFactory == null) {
	            // Build the StandardServiceRegistry
	            StandardServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()
	                    .configure("hibernate.cfg.xml")
	                    .build();

	            // Build the Metadata and SessionFactory
	            Metadata metadata = new MetadataSources(serviceRegistry)
	                    .getMetadataBuilder()
	                    .build();

	            sessionFactory = metadata.getSessionFactoryBuilder().build();
	        }
	        return sessionFactory;
	    }

}
